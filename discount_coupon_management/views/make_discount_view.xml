<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="make_discount_coupon_form" model="ir.ui.view">
			<field name="name">make.dicsount.coupon.form</field>
			<field name="model">make.discount.coupon</field>
			<field name="arch" type="xml">
				<form string="New Coupon">
					<header>
						<!-- <button string="Working" type="object" name="change_open"></button>
						<button string="done" type="object" name="change_validate" attrs="{'invisible':[('state','=')]}"></button> -->
						<field name="state" widget="statusbar"/>
						<!-- attrs="{'invisible':[('valid_date','>=',datetime.date().now().strftime('%Y-%m-%d'))]}" -->
					</header>
					<sheet>
						<group>
							<group>
								<field name="coupon_title" required="1"/>
								<field name="customer_name" required="1"/>
								<field name="coupon_bunch"/>
								<field name="coupon_type"/>
							</group>
							<group>
								<field name="start_date"/>
								<field name="valid_date"/>
								<field name="offer" required="1"/>
								<field name="company_name"/>								
							</group>
						</group>
					</sheet>
				</form>
			</field>
			<!-- <field name="name">Coupon.detail.according.company</field> -->
		</record>
		<record id="tree_discount_coupon_detail" model="ir.ui.view">
			<field name="name">tree.discount.coupon.detail</field>
			<field name="model">make.discount.coupon</field>
			<field name="arch" type="xml">
				<tree string="Registration">
					<field name="company_name"/>
					<field name="coupon_title"/>
					<field name="customer_name"/>
					<field name="coupon_bunch"/>
					<field name="start_date"/>
					<field name="valid_date"/>
					<field name="offer"/>
				</tree>
			</field>
		</record>
		<!-- Start kanban Change -->
		<record id="change_kanban_Discount" model="ir.ui.view">
			<field name="name">Change_kanban</field>
			<field name="model">make.discount.coupon</field>
			<field name="arch" type="xml">
				<kanban>
					<templates>
						<t t-name="kanban-box">
							<div t-attf-class="oe_kanban_global_click">
								  <div class="oe_kanban_vignette oe_semantic_html_override">
                                    <div class="oe_kanban_details">
										Company Name:
										<b><span><field name="company_name"/></span></b>	
										<ul>
											<li>Coupon Name:
										<b><field name="coupon_title"/></b></li>
										<li>Customer Name:
										<b><field name="customer_name"/></b></li>
										<li>Coupon Bunch:
										<b><field name="coupon_bunch"/></b></li>
										<li>From:<b><field name="start_date"/></b></li>
										<li>Valid Date:
										<b><field name="valid_date"/></b></li>
										<li>Offer Name:
										<b><field name="offer"/></b></li>
										</ul>					
									</div>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>
		<!-- End Kanban Change -->
		<record id="detail_search_view" model="ir.ui.view">
			<field name="name">detail.search.view</field>
        	<field name="model">make.discount.coupon</field>
        	<field name="arch" type="xml">
			<search string="Coupon analysis">
				
				<group expand="1" string="Group By">
					<filter string="Comapnay" name="company_name" context="{'group_by':'company_name'}"/>
					<separator/>
					<filter string="Date" context="{'group_by':'valid_date'}"/>
					<separator/>
					<filter string="Coupon Title" context="{'group_by':'coupon_title'}"/>
					<separator/>
					<filter string="Offer" context="{'group_by':'offer'}"/>
				</group>
			</search>
		</field>
		</record>
		<record id="new_discount_coupon_detail" model="ir.actions.act_window">
			<field name="name">Coupon</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">make.discount.coupon</field>			
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
		</record>
		<menuitem id="menu_discount" name="Coupon" sequence="1"/>
		<menuitem id="make_discount_coupon" name="New Coupon" sequence="2" action="new_discount_coupon_detail" parent="menu_discount"/>
	</data>
</odoo>
