<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="redeem_search_view" model="ir.ui.view">
			<field name="name">redeem.search.view</field>
        	<field name="model">coupon.detail</field>
        	<field name="arch" type="xml">
			<search string="Redeem analysis">				
				<filter string="Redeem Detail" domain="[('redeem','=',True)]" name="redeem_coupon"/>
				<group expand="1" string="Group By">
					<filter string="Comapnay" name="company_name" context="{'group_by':'company_name'}"/>
					<separator/>
					<filter string="Date" context="{'group_by':'valid_to'}"/>
					<separator/>
					<filter string="Types of Coupon" context="{'group_by':'type_coupon'}"/>
				</group>
			</search>
		</field>
		</record>
		<record id="tree_coupon_detail" model="ir.ui.view">
			<field name="name">tree.coupon.detail</field>
			<field name="model">coupon.detail</field>			

			<field name="arch" type="xml">					
				<tree string="Registration">					
					<field name="company_name"/>
					<field name="coupon_title"/>
					<field name="coupon_id" groups="discount_coupon_management.coupon_group_manager"/>
					<field name="type_coupon"/>
					<field name="start_from"/>
					<field name="valid_to"/>
					<field name="redeem"/>
				</tree>
			</field>
		</record>
	
		<!-- Kanban view Modify -->
		<record id="change_kanban" model="ir.ui.view">
			<field name="name">Change_kanban</field>
			<field name="model">coupon.detail</field>
			<field name="arch" type="xml">
				<kanban>
					<templates>
						<t t-name="kanban-box">
							<div t-attf-class="oe_kanban_global_click">
								  <div class="oe_kanban_vignette oe_semantic_html_override">
                                    <div class="oe_kanban_details">
										Company Name:
										<b><span><field name="company_name"/></span></b>	
										<ul>
											<li>Coupon Name:
										<b><field name="coupon_title"/></b></li>
										<li>Coupon Code:
										<b><field name="coupon_id" groups="discount_coupon_management.coupon_group_manager"/></b></li>
										<li>Coupon type:
										<b><field name="type_coupon"/></b></li>
										<li>From::
										<b><field name="start_from"/></b></li>
										<li>To:
										<b><field name="valid_to"/></b></li>
										</ul>					
									</div>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>
		<!-- t-attf-class="record.company_name.raw_value" -->

		<!-- End Kanbab view -->


		<record id="data_discount_coupon" model="ir.actions.act_window">
			<field name="name">Coupon</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">coupon.detail</field>			
			<field name="view_type">form</field>
			<field name="context">{'search_default_redeem_coupon':1}</field>
			<field name="view_mode">tree,form,kanban</field>
		</record>

		<menuitem id="discount_detail_coupon" name="Coupon Detail" sequence="5" action="data_discount_coupon" parent="menu_discount" groups="discount_coupon_management.coupon_group_manager"/>
		<!-- groups="discount_coupon_management.fleet_group_manager" -->
	</data>
</odoo>